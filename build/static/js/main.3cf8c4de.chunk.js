(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(37).concat([function(e,t,n){e.exports=n.p+"static/media/bounce.ec919d7f.wav"},function(e,t,n){e.exports=n.p+"static/media/correct.8e3d6124.mp3"},function(e,t,n){e.exports=n.p+"static/media/wrong.3dc30b2b.wav"},,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(143)},,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/timer.6f5db392.wav"},function(e,t,n){e.exports=n.p+"static/media/go.4ed69486.wav"},function(e,t,n){e.exports=n.p+"static/media/coin.b0c2f096.wav"},function(e,t,n){e.exports=n.p+"static/media/background.e1f16f71.mp3"},function(e,t,n){e.exports=n.p+"static/media/start.d9b2eff0.mp3"},function(e,t,n){e.exports=n.p+"static/media/typing.e9b2d6fa.wav"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/forward.85197b81.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,n){e.exports=n.p+"static/media/end.fe765dbd.wav"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/hostBackground.d4c8bff6.png"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),s=n(54),i=n(8),c=n(9),u=n(14),l=n(7),p=n(11),m={room:null,players:[],gameState:"welcome",questionIndex:0,round:1,viewResponses:!1,screenLoadingState:"unloaded",question:{question:"",answers:[]}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOST_SET_ROOM":return Object(p.a)({},e,{room:t.payload});case"HOST_PLAYER_JOINED":var n=Object.assign([],e.players);t.payload.isConnected=!0;for(var a=!1,o=0;o<n.length;o++)t.payload.prevId!==n[o].id||n[o].isConnected||(console.log("reconnecting existing player"),n[o].id=t.payload.id,n[o].isConnected=!0,a=!0);return a||(console.log("creating new player"),t.payload.score=0,n.push(t.payload)),Object(p.a)({},e,{players:n});case"HOST_PLAYER_LEFT":for(n=Object.assign([],e.players),o=0;o<n.length;o++)n[o].id===t.payload.id&&(n[o].isConnected=!1);return Object(p.a)({},e,{players:n});case"HOST_SET_GAME_STATE":return Object(p.a)({},e,{gameState:t.payload});case"HOST_NEXT_QUESTION":return Object(p.a)({},e,{questionIndex:0===t.payload?0:e.questionIndex+1});case"HOST_SHOW_HINTS":return Object(p.a)({},e,{question:t.payload});case"HOST_PLAYER_ANSWER_RECEIVED":console.log("in player answered reducer");for(n=Object.assign([],e.players),o=0;o<n.length;o++)t.payload.id===n[o].id&&(n[o].hasSubmitted=!0,n[o].answer=t.payload.answer);return Object(p.a)({},e,{players:n});case"HOST_UPDATE_ANSWERS":return console.log("updating answers",t.payload),Object(p.a)({},e,{question:{question:e.question.question,answers:t.payload}});case"HOST_UPDATE_PLAYERS":return Object(p.a)({},e,{players:t.payload});case"HOST_SET_ROUND":return Object(p.a)({},e,{round:t.payload});case"HOST_SET_FINAL_PLAYERS":return Object(p.a)({},e,{finalPlayers:t.payload});case"HOST_SET_VIEW_RESPONSES":return Object(p.a)({},e,{viewResponses:t.payload});case"HOST_SET_SCREEN_LOADING_STATE":return console.log("setting loading state"),Object(p.a)({},e,{screenLoadingState:t.payload});default:return e}},d={room:null,name:"",id:null,loading:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAYER_SET_SELF":return Object(p.a)({},e,{name:t.payload.playerData.name,id:t.payload.playerData.id,room:t.payload.room});case"PLAYER_SET_LOADING":return Object(p.a)({},e,{loading:t.payload});default:return e}},y=n(16),b={timer:new Audio(n(77)),go:new Audio(n(78)),bounce:new Audio(n(37)),coin:new Audio(n(79)),correct:new Audio(n(38)),wrong:new Audio(n(39)),background:new Audio(n(80)),start:new Audio(n(81)),typing:new Audio(n(82))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOUND":return Object(p.a)({},e,Object(y.a)({},t.payload.key,t.payload.value));default:return e}},g=n(58),w=Object(u.a)(),O=[g.a,Object(c.routerMiddleware)(w)],E=l.d.apply(void 0,[l.a.apply(void 0,O)].concat([])),j=Object(l.e)((a=w,Object(l.c)({router:Object(c.connectRouter)(a),host:h,player:f,sounds:v})),{},E),S=n(27),C=n(2),T=n(3),k=n(5),N=n(4),x=n(6);n(83);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var R=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.8934 6.42924L17.2911 27.9057C15.8234 29.3648 13.3926 29.3648 11.879 27.9057L1.10076 17.1903C-0.366919 15.7311 -0.366919 13.3145 1.10076 11.8097C2.56843 10.3506 4.99927 10.3506 6.51282 11.8097L14.6309 19.8805L33.5272 1.09434C34.9949 -0.36478 37.4258 -0.36478 38.9393 1.09434C40.3611 2.55346 40.3611 4.97012 38.8934 6.42924Z",fill:"white"}),_=function(e){return r.a.createElement("svg",A({width:40,height:29,viewBox:"0 0 40 29",fill:"none"},e),R)},q=(n.p,o.Component,n(84),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.onClick;return r.a.createElement("div",{className:"buttonContainer",onClick:n.bind(this)},r.a.createElement("p",null,t))}}]),t}(o.Component));n(85);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var L,P,D=r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.06948 12.7967H23.2436C25.5855 12.7967 25.5855 9.20426 23.2436 9.20426H6.06948L12.2365 3.03464C13.8759 1.39461 11.3778 -1.10447 9.66042 0.535553L0.526932 9.75093C-0.175644 10.4538 -0.175644 11.5471 0.526932 12.25L9.66042 21.4654C11.3778 23.1054 13.8759 20.6063 12.2365 18.8882L6.06948 12.7967Z",fill:"white"}),H=function(e){return r.a.createElement("svg",I({width:25,height:22,viewBox:"0 0 25 22",fill:"none"},e),D)},W=(n.p,o.Component,n(86),o.Component,n(87),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){this.props.onContinue(this.refs.input.value)}},{key:"render",value:function(){var e=this.props,t=e.onContinue,a=e.value,o=e.placeholder,s=e.onChange;return r.a.createElement("div",{className:"textInputContainer"},r.a.createElement("input",{placeholder:o,type:"text",ref:"input",value:a,onChange:s}),t&&r.a.createElement("div",{className:"continue",onClick:this.onContinue.bind(this)},r.a.createElement("img",{src:n(88)})))}}]),t}(o.Component)),F=(n(89),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=(e.image,e.planet,e.isConnected),a=e.color,o=e.index,s=e.score;e.hasSubmitted;return r.a.createElement("div",{className:"hostPlayerOuterContainer"},r.a.createElement("div",{className:"hostPlayerContainer ".concat(!n&&"isDisconnected"," ")},r.a.createElement("div",{className:"playerCircle",style:{background:a}},r.a.createElement("p",null,t&&t[0]&&t[0].toUpperCase()?t[0].toUpperCase():"?")),r.a.createElement("p",{className:"name"},t||"Player ".concat(o+1)),r.a.createElement("p",{className:"score"},s||0)))}}]),t}(o.Component)),G=(n(90),n(91),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).title=n.createTitle(),n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"createTitle",value:function(){for(var e=this.props.title,t=[],n=0;n<e.length;n++)t.push(e[n]);return t}},{key:"render",value:function(){var e=this.props,t=e.room,n=e.title,a=e.loadingState;return console.log("loading state",a),r.a.createElement("div",{className:"titleOuterContainer ".concat("out"===a&&"out")},r.a.createElement(Y,{text:n}),r.a.createElement(z,{primaryText:t?t.short:"no room",secondaryText:"Room code:"}))}}]),t}(o.Component)),M=["#4285F4","#DB4437","#F4B400","#4285F4","#0F9D58","#DB4437"],U=["","","","","","","","",""],V=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.players;e.title,e.room;return r.a.createElement("div",{className:"playersContainer"},r.a.createElement("div",{className:"fakeMenu"},r.a.createElement("p",{className:"fakeMenuItem"},"Mail"),r.a.createElement("p",{className:"fakeMenuItem"},"Pictures"),r.a.createElement("div",{className:"gridIcon"},U.map(function(e,t){return r.a.createElement("div",{key:t,className:"gridIconSquare"})})),r.a.createElement("div",{className:"profileCircle"},"?")),r.a.createElement("div",{className:"playersModalBackground"},r.a.createElement("div",{className:"playersInner"},r.a.createElement("div",{className:"playersInnerChevron"}),M.map(function(e,n){return r.a.createElement(F,Object.assign({key:n,color:e,index:n},t[n]))})),r.a.createElement("div",{className:"filler"})))}}]),t}(o.Component),B=(n(92),["blue","red","yellow","blue","green","red"]),Y=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).text=n.createTitle(),n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"createTitle",value:function(){for(var e=this.props.text,t=[],n=0;n<e.length;n++)t.push(e[n]);return t}},{key:"render",value:function(){var e=this.props,t=e.letterStyle,n=e.containerStyle;return r.a.createElement("div",{className:"colorTextContainer",style:n||{}},this.text.map(function(e,n){var a="letterTitle ".concat(B[n%B.length]," ").concat(" "===e&&"space"," ");return r.a.createElement("h4",{className:a,key:n,style:t||{}},e)}))}}]),t}(o.Component),z=(n(93),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.secondaryText,n=e.primaryText,a=e.containerStyle;return r.a.createElement("div",{className:"inputStyleTextContainer",style:a||{}},r.a.createElement("h4",{className:"text"},r.a.createElement("span",{className:"secondary"},t," "),n),r.a.createElement("img",{src:"http://www.gstatic.com/images/branding/googlemic/2x/googlemic_color_24dp.png"}))}}]),t}(o.Component)),J=(n(94),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"section",onClick:this.props.push.bind(this,"/host")},r.a.createElement(Y,{text:"Host"})),r.a.createElement("div",{className:"section",onClick:this.props.push.bind(this,"/p")},r.a.createElement(Y,{text:"Player"})))}}]),t}(o.Component)),Q=Object(i.connect)(function(e){return{}},function(e){return Object(l.b)({push:function(e){return Object(c.push)(e)}},e)})(J),X=(n(95),n(59)),Z=n(21),K=n.n(Z);function $(e){(L=K()("https://whatpeoplesearch.herokuapp.com")).on("player-joined-room-successfully",function(e,t){var n={name:t.playerData.name,id:t.playerData.id,room:t.room.short};switch(window.localStorage.quiz=JSON.stringify(n),e.props.playerSetSelf(t),e.props.setLoading(!1),t.gameState){case"welcome":return e.props.push("/p/waiting-start");case"question-entry":return e.props.push("/p/question-input");case"answer-entry":return e.props.push("/p/answer-input");case"waiting":return e.props.push("/p/waiting");case"end":return e.props.push("/p/end");default:return}}.bind(this,e)),L.on("error-joining-room-no-host",te.bind(this,e)),L.on("error-joining-room",te.bind(this,e)),L.on("waiting",function(e){e.props.push("/p/waiting")}.bind(this,e)),L.on("question-input",function(e){e.props.setLoading(!1),e.props.push("/p/question-input")}.bind(this,e)),L.on("answer-input",function(e){e.props.setLoading(!1),e.props.push("/p/answer-input")}.bind(this,e)),L.on("end-game",function(e){e.props.setLoading(!1),e.props.push("/p/end")}.bind(this,e)),L.on("player-error-not-enough-suggestions",function(e){console.log("error"),e.props.setLoading(!1),e.props.push("/p/question-input-error")}.bind(this,e))}function ee(e,t){L.emit("player-submit-question",t),e.props.setLoading(!0)}function te(e,t){console.log("error joining room")}function ne(e){console.log(e),L.emit("player-start-game",e)}function ae(e){(P=K()("https://whatpeoplesearch.herokuapp.com")).emit("host-connected"),P.on("host-room-generated",function(e,t){e.props.hostSetRoom(t)}.bind(this,e)),P.on("player-joined",function(e,t){if(e.props.playerJoined(t.playerData),"question-entry"===e.props.gameState)for(var n=0;n<e.props.players.length;n++)t.playerData.id===e.props.players[n].id&&(n===e.props.questionIndex?t.gameState="question-entry":t.gameState="waiting");else if("answer-entry"===e.props.gameState)for(var n=0;n<e.props.players.length;n++)t.playerData.id===e.props.players[n].id&&(e.props.players[n].answer?t.gameState="waiting":t.gameState="answer-entry");else t.gameState=e.props.gameState;e.props.sounds.bounce.play(),P.emit("host-sending-game-state",t),console.log("player-joined",t)}.bind(this,e)),P.on("player-set-name",function(e,t){e.props.setPlayerName(t)}.bind(this,e)),P.on("player-left",function(e,t){e.props.playerLeft(t)}.bind(this,e)),P.on("start-game",function(e,t){console.log("starting game",e,t),e.props.sounds.typing.pause(),P.emit("send-player-waiting",e.props.hostRoom),e.props.setScreenLoadingState("out"),e.props.sounds.start.play(),setTimeout(function(){e.props.setGameState("question-entry"),e.props.push("/host/instructions")},4e3)}.bind(this,e)),P.on("send-hints-to-host",function(e,t){e.props.sounds.typing.pause(),e.props.setGameState("waiting"),e.props.push("/host/question"),e.props.showHints(t)}.bind(this,e)),P.on("player-answer",function(e,t){var a=e.props.players;new Audio(n(37)).play(),e.props.playerAnswerReceived(t),function(e){for(var t=0,n=0;n<e.length;n++)e[n].answer&&(t+=1);return t===e.length}(a)&&(e.props.sounds.timer.pause(),e.props.sounds.timer.currentTime=0,e.props.setGameState("waiting"),e.props.setViewResponses(!0))}.bind(this,e))}function oe(e){var t={player:e.props.players[e.props.questionIndex],room:e.props.room};P.emit("host-send-question-input",t)}function re(e,t){e.props.sounds.typing.pause(),e.props.sounds.timer.play(),e.props.sounds.timer.loop=!0,e.props.setGameState("answer-entry"),P.emit("host-send-answer-input",e.props.room)}var se=function(e){return console.log("setting host room"),function(t){t({type:"HOST_SET_ROOM",payload:e})}},ie=function(e){return console.log("setting host room"),function(t){t({type:"HOST_SET_SCREEN_LOADING_STATE",payload:e})}},ce=function(e){return function(t){t({type:"HOST_SET_VIEW_RESPONSES",payload:e})}},ue=function(e){return function(t){t({type:"HOST_PLAYER_JOINED",payload:e})}},le=function(e){return function(t){t({type:"HOST_PLAYER_ANSWER_RECEIVED",payload:e})}},pe=function(e){return function(t){t({type:"HOST_UPDATE_ANSWERS",payload:e})}},me=function(e){return function(t){t({type:"HOST_SET_ROUND",payload:e})}},he=function(e){return function(t){t({type:"HOST_UPDATE_PLAYERS",payload:e})}},de=function(e){return function(t){t({type:"HOST_PLAYER_LEFT",payload:e})}},fe=function(e){return function(t){t({type:"HOST_SET_FINAL_PLAYERS",payload:e})}},ye=function(e){return function(t){t({type:"HOST_SHOW_HINTS",payload:e})}},be=function(e){return function(t){t({type:"HOST_SET_GAME_STATE",payload:e})}},ve=function(e){return function(t){t({type:"HOST_NEXT_QUESTION",payload:e})}},ge=function(e){return function(t){t({type:"PLAYER_SET_SELF",payload:e})}},we=function(e){return function(t){t({type:"PLAYER_SET_LOADING",payload:e})}},Oe=function(e){return function(t){t({type:"SET_SOUND",payload:e})}},Ee=function(e){function t(e){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).call(this,e))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.isHost?(this.props.sounds.typing.play(),ae(this)):$(this)}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(o.Component),je=Object(i.connect)(function(e){return{gameState:e.host.gameState,playerRoom:e.player.room,players:e.host.players,question:e.host.question,questionIndex:e.host.questionIndex,sounds:e.sounds,hostRoom:e.host.room}},function(e){return Object(l.b)({push:function(e){return Object(X.push)(e)},hostSetRoom:se,playerSetSelf:ge,setViewResponses:ce,setScreenLoadingState:ie,playerJoined:ue,setGameState:be,setLoading:we,updateAnswers:pe,setSound:Oe,playerLeft:de,playerAnswerReceived:le,showHints:ye},e)})(Ee),Se=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).timeouts=[],n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeouts[0]=setTimeout(function(){e.props.complete()},100)}},{key:"componentWillUnmount",value:function(){for(var e=this.timeouts.length-1;e>=0;e--)clearTimeout(this.timeouts[e])}},{key:"render",value:function(){return r.a.createElement("h4",null,"Instructions")}}]),t}(o.Component),Ce=(n(127),n(128),n(129),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).timeouts=[],n.state={isAnimatedIn:!1},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.timeout;this.timeouts[0]=setTimeout(function(){e.setState({isAnimatedIn:!0},function(){e.timeouts[1]=setTimeout(function(){e.setState({isAnimatedIn:!1})},t)})})}},{key:"componentWillReceiveProps",value:function(e){e.showRightWrong&&!this.props.showRightWrong&&setTimeout(function(){"right"===e.showRightWrong?new Audio(n(38)).play():new Audio(n(39)).play()},100)}},{key:"componentWillUnmount",value:function(){for(var e=0;e<this.timeouts.length;e++)clearTimeout(this.timeouts[e])}},{key:"render",value:function(){var e=this.props,t=e.color,n=e.player,a=e.showRightWrong,o=e.bonus;return r.a.createElement("div",{className:"answersHeaderInner ".concat(this.state.isAnimatedIn&&"isAnimated")},r.a.createElement(F,Object.assign({color:t},n)),!(o||0===o)&&r.a.createElement(z,{primaryText:n.answer||"\u274c",containerStlye:{margin:"0px",marginTop:"-30px"}}),r.a.createElement("h4",{className:"emoji ".concat(a&&" isVisible")},"right"===a?"\u2705":"\u274c"),(o||0===o)&&r.a.createElement("h4",{className:"answer"},"500 bonus * ".concat(o)))}}]),t}(o.Component)),Te=["#4285F4","#DB4437","#F4B400","#4285F4","#0F9D58","#DB4437"],ke=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).playerDuration=5e3,n.answerDuration=600,n.timeouts=[],n.state={showAnswer:!1,playerIndex:0,player:null},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"showPlayer",value:function(e){var t=this,n=this.props.players;this.setState({player:n[e],playerIndex:e},function(){t.timeouts[e]=setTimeout(function(){t.updateAnswers(n[e].answer,e),t.timeouts[e]=setTimeout(function(){t.setState({showRightWrong:!1,player:!1,showAnswer:!1},function(){e===n.length-1?t.tallyScores(0):t.timeouts[e]=setTimeout(function(){t.showPlayer(e+1)},1e3)})},t.playerDuration/2)},t.playerDuration/4)})}},{key:"updateScore",value:function(e,t){var n=this.props.players,a=Object.assign([],n);a[e].score+=t,this.props.updatePlayers(a)}},{key:"updateAnswers",value:function(e,t){for(var n=this.props,a=n.answers,o=n.round,r=(n.players,Object.assign([],this.props.answers)),s=!1,i=0;i<r.length;i++)r[i].answer!==e||r[i].show&&r[i].show!==o||(r[i].show=o,s=!0,r[i].players.push(t));this.setState({showRightWrong:s?"right":"false"}),this.props.updateAnswers(a)}},{key:"tallyScores",value:function(e){for(var t=this,n=this.props,a=n.answers,o=n.players,r=0,s=0;s<a.length;s++)a[s].players.length&&(r+=1);if(!r)return this.revealAnswers();var i=Object.assign([],o);if(a[e].players.length){for(s=0;s<a[e].players.length;s++)i[a[e].players[s]].score+=a[e].score/a[e].players.length,this.props.updatePlayers(i);setTimeout(function(){e<a.length-1?t.tallyScores(e+1):t.nextRound()},500)}else e<a.length-1?this.tallyScores(e+1):this.nextRound()}},{key:"nextRound",value:function(){var e=this.props,t=e.round,n=(e.questionIndex,e.players),a=e.answers;if(this.moreAnswersAvaliable()&&3!==t){this.props.setRound(t+1);for(var o=Object.assign([],n),r=Object.assign([],a),s=0;s<o.length;s++)o[s].answer=!1;for(s=0;s<a.length;s++)r[s].players=[];this.props.updateAnswers(r),this.props.updatePlayers(o),re(this,this.props.room),this.props.setViewResponses(!1)}else this.revealAnswers()}},{key:"revealAnswers",value:function(){for(var e=this.props,t=(e.round,e.questionIndex,e.players,e.answers),n=0,a=0,o=0;o<t.length;o++)t[o].show?a+=1:(n+=1,this.revealAnswer(o,n));this.moveForwards(n,a)}},{key:"moveForwards",value:function(e,t){var n=this,a=this.props,o=(a.round,a.questionIndex),r=a.players,s=(a.answers,Object.assign([],r));setTimeout(function(){n.setState({player:r[o],bonus:t},function(){s[o].score+=500*t,n.props.updatePlayers(s),n.props.updateAnswers([]),setTimeout(function(){if(n.setState({player:!1,bonus:!1}),o===r.length-1)console.log("END GAME"),n.setEndGame();else{n.props.nextQuestion(),n.props.setRound(1);for(var e=Object.assign([],r),t=0;t<r.length;t++)r[t].answer=!1,r[t].hasSubmitted=!1;n.props.updatePlayers(e),oe(n),n.props.setViewResponses(!1),n.props.push("/host/question-input")}},2500)})},(e+2)*this.answerDuration)}},{key:"setEndGame",value:function(){for(var e,t=this.props.players,a=Object.assign([],t),o=[],r=0;r<t.length;r++)t[r].name.length&&o.push(t[r]);o.sort(function(e,t){return e.score-t.score}),this.props.setFinalPlayers(o);for(r=0;r<a.length;r++)t[r].score=0,t[r].answer=!1,t[r].hasSubmitted=!1;this.props.updatePlayers(a),this.props.setRound(1),this.props.nextQuestion(0),this.props.setViewResponses(!1),e=this,new Audio(n(126)).play(),e.props.setGameState("end"),e.props.push("/host/end"),P.emit("host-end-game",e.props.room)}},{key:"revealAnswer",value:function(e,t){var n=this;setTimeout(function(){var t=n.props.answers,a=Object.assign([],t);a[e].show=!0,a[e].isUndiscovered=!0,n.props.updateAnswers(a)},this.answerDuration*t)}},{key:"moreAnswersAvaliable",value:function(){for(var e=this.props.answers,t=0,n=e.length-1;n>=0;n--)e[n].show&&(t+=1);return t!==e.length}},{key:"clearTimeouts",value:function(){for(var e=0;e<this.timeouts.length;e++)clearTimeout(this.timeouts[e])}},{key:"componentWillReceiveProps",value:function(e){var t=this;console.log("getting props"),e.isAnswers!==this.props.isAnswers&&e.isAnswers&&setTimeout(function(){t.showPlayer(0)},600)}},{key:"componentWillUnmount",value:function(){this.clearTimeouts()}},{key:"render",value:function(){var e=this.state,t=e.player,n=e.playerIndex,a=(e.showAnswer,e.showRightWrong),o=e.bonus,s=this.props.isAnswers;return console.log(t),r.a.createElement("div",{className:"answersHeaderContainer ".concat(s&&" isVisible")},t&&r.a.createElement(Ce,{timeout:this.playerDuration/6*4,player:t,color:Te[n],showRightWrong:a,bonus:o}))}}]),t}(o.Component),Ne=Object(i.connect)(function(e){return{players:e.host.players,answers:e.host.question.answers,round:e.host.round,room:e.host.room,questionIndex:e.host.questionIndex,isAnswers:e.host.viewResponses}},function(e){return Object(l.b)({push:function(e){return Object(c.push)(e)},updateAnswers:pe,nextQuestion:ve,setViewResponses:ce,setFinalPlayers:fe,updatePlayers:he,setRound:me},e)})(ke),xe=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).timeout=!1,n.countdownTimeout=!1,n.state={visible:-1,countdown:!1},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"countdown",value:function(e){var t=this;e&&this.setState({countdown:60}),this.countdownTimeout=setTimeout(function(){var e,n;t.state.countdown>0?(t.setState({countdown:t.state.countdown-1}),t.countdown(),11===t.state.countdown&&t.props.timerSound.play()):(t.props.timerSound.pause(),t.props.timerSound.currentTime=0,e=t,n=t.props.room,e.props.sounds.timer.pause(),e.props.setGameState("waiting"),P.emit("send-player-waiting",n),e.props.setViewResponses(!0))},1e3)}},{key:"componentWillReceiveProps",value:function(e){var t=this;!this.props.answers.length&&e.answers.length&&setTimeout(function(){t.showAnswer(0)},100),this.props.isAnswers!==e.isAnswers&&(e.isAnswers?(clearTimeout(this.countdownTimeout),this.setState({countdown:!1})):this.countdown(!0))}},{key:"showAnswer",value:function(e){var t=this,n=this.props.answers;console.log(n),this.timeout=setTimeout(function(){t.setState({visible:e},function(){console.log("showing answers",e,n.length),n&&e<n.length-1?(t.showAnswer(e+1),setTimeout(function(){t.props.sounds.bounce.play()},400)):setTimeout(function(){t.countdown(!0),re(t,t.props.room)},2e3)})},300)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.countdownTimeout),clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,a=t.answers,o=(t.isQuestion,t.isAnswers),s=t.players,i=t.sounds;return r.a.createElement("div",{className:"questionContainer"},(this.state.countdown||0===this.state.countdown)&&r.a.createElement("p",{className:"countdown"},r.a.createElement("span",{className:"secondary"},"Time left: "),this.state.countdown),r.a.createElement("div",{className:"questionInfoContainer"},r.a.createElement(Ne,{text:"Fill in the blanks",setGameState:this.props.setGameState.bind(this),sounds:i})),r.a.createElement("div",{className:"questionAndAnswerContainer"},r.a.createElement("div",{className:"questionShadowContainer"},r.a.createElement("div",{className:"questionInnerContainer"},r.a.createElement(z,{primaryText:"".concat(n,"..."),containerStyle:{margin:"0px"}}),r.a.createElement("div",{className:"responseContainer"},s&&!o&&s.map(function(e,t){return e.answer?r.a.createElement("p",{className:"responseIndicator"},e.name):r.a.createElement("div",null)})),r.a.createElement("div",{className:"underline"})),r.a.createElement("div",{className:"hostHintsContainer"},a&&a.map(function(t,n){return t.show?r.a.createElement("div",{key:n,className:"hostHintContainer isVisible ".concat(n%2===0&&"grey")},r.a.createElement("p",{className:"revealedAnswer ".concat(t.isUndiscovered&&"undiscovered")},t.answer),r.a.createElement("div",{className:"answerScoreContainer"},t.players&&t.players.map(function(e,t){return console.log("player in answer"),r.a.createElement("p",{key:"".concat(n).concat(t),className:"playerInAnswer"},s[e].name)}),r.a.createElement("p",{className:"answerScore"},t.score))):r.a.createElement("div",{key:n,className:"hostHintContainer ".concat(n%2===0&&"grey"," ").concat(e.state.visible>=n&&"isVisible")},t&&t.hint&&t.hint.map(function(e,a){return 0===a||" "===t.hint[a-1]?r.a.createElement("p",{key:"".concat(n).concat(a),className:"hintLetter ".concat(" "===e&&"space")},t.answer[a]):r.a.createElement("p",{key:"".concat(n).concat(a),className:"hintLetter ".concat(" "===e&&"space")},e)}),r.a.createElement("div",{className:"answerScoreContainer"},r.a.createElement("p",{className:"answerScore"},t.score)))})))))}}]),t}(o.Component),Ae=(n(130),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.name;return r.a.createElement("div",{className:"hostQuestionInputContainer"},r.a.createElement(Y,{text:e}),r.a.createElement(z,{secondaryText:"Enter your search term"}))}}]),t}(o.Component)),Re=(n(131),["#4285F4","#DB4437","#F4B400","#4285F4","#0F9D58","#DB4437"]),_e=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).timeouts=[],n.state={visible:-1},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.showPlayer(0)}},{key:"showPlayer",value:function(e){var t=this,n=this.props.players;this.timeouts[e]=setTimeout(function(){t.setState({visible:e},function(){n[e+1]&&n[e+1].name&&t.showPlayer(e+1)})},500)}},{key:"componentWillUnmount",value:function(){for(var e=this.timeouts.length-1;e>=0;e--)clearTimeout(this.timeouts[e])}},{key:"render",value:function(){var e=this,t=this.props.players;return r.a.createElement("div",{className:"hostEndContainer"},r.a.createElement(Y,{text:"That's all folks!"}),r.a.createElement("div",{className:"finalPlayerOuterContainer"},t&&t.map(function(t,n){return r.a.createElement("div",{className:"finalPlayerInnerContainer ".concat(e.state.visible>=n&&"isVisible")},r.a.createElement("h4",null,"#",n+1),r.a.createElement(F,Object.assign({color:Re[n],key:n},t)))})))}}]),t}(o.Component),qe=Object(i.connect)(function(e){return{players:e.host.finalPlayers}},function(e){return Object(l.b)({push:function(e){return Object(c.push)(e)}},e)})(_e),Ie=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"instructionsComplete",value:function(){console.log("instructions complete"),oe(this),this.props.push("/host/question-input")}},{key:"componentWillMount",value:function(){this.props.room||this.props.push("/host")}},{key:"render",value:function(){var e=this,t=this.props,a=t.room,o=t.players,s=t.question,i=t.questionIndex,c=t.isAnswers,u=(t.setViewResponses,t.sounds),l=t.loadingState;return r.a.createElement("div",{className:"hostContainer"},r.a.createElement(je,{isHost:!0}),r.a.createElement("div",{className:"hostBackground",style:{backgroundImage:"url("+n(132)+")"}},r.a.createElement("div",{className:"hostBackgroundOverlay"})),r.a.createElement("div",{className:"hostMainContainer"},r.a.createElement(S.a,{exact:!0,path:"/host",render:function(){return r.a.createElement(G,{title:"Searches",room:a,backgroundSound:u.typing,loadingState:l})}}),r.a.createElement(S.a,{exact:!0,path:"/host/instructions",render:function(){return r.a.createElement(Se,{complete:e.instructionsComplete.bind(e)})}}),r.a.createElement(S.a,{exact:!0,path:"/host/question",render:function(){return r.a.createElement(xe,{question:s.question,answers:s.answers,players:o,isAnswers:c,room:a,setViewResponses:e.props.setViewResponses.bind(e),timerSound:u.timer,sounds:u,setGameState:e.props.setGameState.bind(e)})}}),r.a.createElement(S.a,{exact:!0,path:"/host/question-input",render:function(){return r.a.createElement(Ae,{name:o&&o[i]?o[i].name:""})}}),r.a.createElement(S.a,{exact:!0,path:"/host/end",render:function(){return r.a.createElement(qe,null)}})),r.a.createElement("div",{className:"hostPlayersContainer"},r.a.createElement(V,{players:o,title:"What would yougle do",room:a})))}}]),t}(o.Component),Le=Object(i.connect)(function(e){return{room:e.host.room,isAnswers:e.host.viewResponses,players:e.host.players,questionIndex:e.host.questionIndex,question:e.host.question,sounds:e.sounds,loadingState:e.host.screenLoadingState}},function(e){return Object(l.b)({push:function(e){return Object(c.push)(e)},setViewResponses:ce,setGameState:be},e)})(Ie),Pe=(n(133),n(134),function(e){function t(e){var n;Object(C.a)(this,t),n=Object(k.a)(this,Object(N.a)(t).call(this,e));var a=!!window.localStorage.quiz&&JSON.parse(window.localStorage.quiz);return console.log(a),n.state={name:a&&a.name?a.name:"",roomcode:a&&a.room?a.room:""},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){var e=this.state;!function(e,t){var n=!!window.localStorage.quiz&&JSON.parse(window.localStorage.quiz).id;t.prevId=n,L.emit("player-connected",t),e.props.setLoading(!0)}(this,{room:e.roomcode,name:e.name})}},{key:"onChange",value:function(e,t){console.log(e,t.target.value),this.setState(Object(y.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.roomcode;return r.a.createElement("div",{className:"loginContainer"},r.a.createElement(Y,{text:"Let's get started",letterStyle:{fontSize:"50px"}}),r.a.createElement(W,{placeholder:"Name",value:t,onChange:this.onChange.bind(this,"name")}),r.a.createElement(W,{placeholder:"Roomcode",value:n,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"roomcode")}),r.a.createElement("div",null))}}]),t}(o.Component)),De=Object(i.connect)(function(e){return{users:e.player.users,room:e.player.room,usersSelected:e.player.usersSelected}},function(e){return Object(l.b)({setLoading:we},e)})(Pe);n.p,n(135);var He=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onClick",value:function(){ne(this.props.room)}},{key:"render",value:function(){return r.a.createElement("div",{className:"playerWaitingStartContainer"},r.a.createElement(Y,{text:"Sit tight",letterStyle:{fontSize:"50px"}}),r.a.createElement("h4",{className:"title"},"Let us know when everyone is in."),r.a.createElement(q,{text:"Everybody's in",onClick:this.onClick.bind(this)}))}}]),t}(o.Component),We=Object(i.connect)(function(e){return{room:e.player.room}},function(e){return Object(l.b)({},e)})(He),Fe=(n(136),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"waitingContainer"},r.a.createElement(Y,{text:"waiting",letterStyle:{fontSize:"50px"}}))}}]),t}(o.Component)),Ge=(n(137),function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onClick",value:function(){ne(this.props.room)}},{key:"render",value:function(){return r.a.createElement("div",{className:"endContainer"},r.a.createElement(Y,{text:"That's all folks"}),r.a.createElement(q,{text:"Play again!",onClick:this.onClick.bind(this)}))}}]),t}(o.Component)),Me=(n(138),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).state={question:""},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){ee(this,{question:this.state.question,room:this.props.room})}},{key:"onChange",value:function(e,t){this.setState(Object(y.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state.question;return r.a.createElement("div",{className:"questionInputContainer"},r.a.createElement(Y,{text:"Search term",letterStyle:{fontSize:"50px"}}),r.a.createElement("p",null,"Remember you score points for every answer discovered"),r.a.createElement(W,{placeholder:"Search",value:e,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"question")}),r.a.createElement("div",null))}}]),t}(o.Component)),Ue=Object(i.connect)(function(e){return{users:e.player.users,room:e.player.room,usersSelected:e.player.usersSelected}},function(e){return Object(l.b)({setLoading:we},e)})(Me),Ve=(n(139),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).state={answer:""},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){var e=this,t=this.state.answer,n=this.props,a=n.room,o=n.id,r={answer:t.toLowerCase(),room:a,id:o};this.setState({answer:""},function(){!function(e,t){console.log("sending answer",t),L.emit("player-send-answer",t),e.props.setLoading(!0)}(e,r)})}},{key:"onChange",value:function(e,t){this.setState(Object(y.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state.answer;return r.a.createElement("div",{className:"answerInputContainer"},r.a.createElement(Y,{text:"What's your guess?",letterStyle:{fontSize:"50px"}}),r.a.createElement("p",{className:"title"},"You've got to be spot on. ",r.a.createElement("br",null),"Letters, spaces and numbers only."),r.a.createElement(W,{placeholder:"Guess?",value:e,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"answer")}),r.a.createElement("div",null))}}]),t}(o.Component)),Be=Object(i.connect)(function(e){return{id:e.player.id,room:e.player.room}},function(e){return Object(l.b)({setLoading:we},e)})(Ve),Ye=(n(140),o.Component,n(141),function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(k.a)(this,Object(N.a)(t).call(this,e))).state={question:""},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onContinue",value:function(){ee(this,{question:this.state.question,room:this.props.room})}},{key:"onChange",value:function(e,t){this.setState(Object(y.a)({},e,t.target.value))}},{key:"render",value:function(){var e=this.state.question;return r.a.createElement("div",{className:"questionInputErrorContainer"},r.a.createElement(Y,{text:"Search term",letterStyle:{fontSize:"50px"}}),r.a.createElement("p",{className:"error"},"That didn't work. Try another"),r.a.createElement(W,{placeholder:"Search",value:e,onContinue:this.onContinue.bind(this),onChange:this.onChange.bind(this,"question")}),r.a.createElement("div",null))}}]),t}(o.Component)),ze=Object(i.connect)(function(e){return{users:e.player.users,room:e.player.room,usersSelected:e.player.usersSelected}},function(e){return Object(l.b)({setLoading:we},e)})(Ye),Je=function(e){function t(){return Object(C.a)(this,t),Object(k.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"onClickUser",value:function(e){this.props.toggleUserSelect(e)}},{key:"changeScene",value:function(e){this.props.push(e)}},{key:"componentWillMount",value:function(){window.localStorage.quiz&&this.props.push("/p")}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.room;return r.a.createElement("div",{className:"playerContainer"},r.a.createElement(je,null),r.a.createElement("div",{className:"routeContentContainer"},r.a.createElement(S.a,{exact:!0,path:"/p",render:function(){return r.a.createElement(De,{push:e.changeScene.bind(e)})}}),r.a.createElement(S.a,{exact:!0,path:"/p/waiting-start",render:function(){return r.a.createElement(We,{push:e.changeScene.bind(e)})}}),r.a.createElement(S.a,{exact:!0,path:"/p/waiting",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(S.a,{exact:!0,path:"/p/question-input",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(S.a,{exact:!0,path:"/p/question-input-error",render:function(){return r.a.createElement(ze,null)}}),r.a.createElement(S.a,{exact:!0,path:"/p/answer-input",render:function(){return r.a.createElement(Be,null)}}),r.a.createElement(S.a,{exact:!0,path:"/p/end",render:function(){return r.a.createElement(Ge,{room:a})}})),n&&r.a.createElement(Fe,null))}}]),t}(o.Component),Qe=Object(i.connect)(function(e){return{loading:e.player.loading,room:e.player.room}},function(e){return Object(l.b)({push:function(e){return Object(c.push)(e)}},e)})(Je),Xe=function(){return r.a.createElement("div",{className:"appContainers"},r.a.createElement("main",null,r.a.createElement(S.a,{exact:!0,path:"/",component:Q}),r.a.createElement(S.a,{path:"/p",component:Qe}),r.a.createElement(S.a,{path:"/host",component:Le})))};n(142);Object(s.render)(r.a.createElement(i.Provider,{store:j},r.a.createElement(c.ConnectedRouter,{history:w},r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,null)))),document.getElementById("root"))}]),[[60,1,2]]]);
//# sourceMappingURL=main.3cf8c4de.chunk.js.map